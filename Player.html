
<!DOCTYPE html>
<html>
<head>
    <title>Ti Sports | Player</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <script src="https://cdn.jsdelivr.net/clappr/latest/clappr.min.js"></script>
    <script src="https://cdn.jsdelivr.net/clappr.level-selector/latest/level-selector.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@clappr/hlsjs-playback@1.0.1/dist/hlsjs-playback.min.js"></script>
    <style>body { background-color: #000000; margin: 0; padding: 0; }</style>
</head>
<body>
    <div id="player" style="height: 100vh; width: 100%;"></div>

    <script>
        // Get the source URL from the URL parameter
        var urlParams = new URLSearchParams(window.location.search);
        var sourceURL = urlParams.get('source');

        // Check if source URL exists
        if (sourceURL) {
            // Initialize the Clappr player with the source URL
            var player = new Clappr.Player({
                source: sourceURL,
                width: '100%',
                height: '100%',
                autoPlay: true,
                plugins: [Clappr.HLS, LevelSelector],
                mimeType: "application/x-mpegURL",
                mediacontrol: { seekbar: "#ff0000", buttons: "#eee" },
                parentId: "#player",
            });
        } else {
            // Display an error message if no source URL is provided
            document.body.innerHTML = `
                <div style="color: white; text-align: center; margin-top: 20%;">
                    <h2>Invalid or Missing Channel URL</h2>
                    <p>Please provide a valid <strong>source</strong> URL in the query string, e.g., <code>?source=your_video_url.m3u8</code>.</p>
                </div>
            `;
        }
    </script>
</body>
</html>